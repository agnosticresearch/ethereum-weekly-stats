<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ethereum Weekly Top 20 Tokens - Week Ending August 27, 2024</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .chart-container { background-color: white; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 30px; padding: 20px; }
        h1, h2 { color: #3C3C3D; }  /* Ethereum's primary color */
        h3 { font-size: 18px; margin-top: 0; color: #666; }
        .bar { cursor: pointer; }
        .bar.positive { fill: #3C3C3D; }
        .bar.negative { fill: #FF4136; }
        .bar:hover { opacity: 0.8; }
        .bar-label { font-size: 12px; }
        .value-label { font-size: 12px; fill: white; }
        .chart-icon { font-size: 12px; cursor: pointer; }
        .axis-label { font-size: 14px; }
        a { color: inherit; text-decoration: none; }
    </style>
</head>
<body>
    <h1>Ethereum Weekly Top 20 Tokens - Week Ending August 27, 2024</h1>
    <a href="index.html">Back to Index</a>
    
    <div class="chart-container">
        <h2>Top 20 Tokens by Growth Percentage</h2>
        <svg id="growthChart" width="760" height="600"></svg>
    </div>
    
    <div class="chart-container">
        <h2>Top 20 Tokens by Total Transactions</h2>
        <svg id="transactionsChart" width="760" height="600"></svg>
    </div>

    <script>
        const growthData = [
  { name: "PowerPool.Finance...dca1", value: 101.65, address: "0x38e4adb44ef08f22f5b5b76a8f0c2d0dcbe7dca1" },
  { name: "Strawberry (80ca)", value: 53.61, address: "0xcb76314c2540199f4b844d4ebbc7998c604880ca" },
  { name: "ERC1967Proxy (2955)", value: 66.39, address: "0x61e24ce4efe61eb2efd6ac804445df65f8032955" },
  { name: "KABOSU (26cb)", value: 48.65, address: "0xceb67a66c2c8a90980da3a50a3f96c07525a26cb" },
  { name: "DappRadar: RADAR ...4dbe", value: 44.34, address: "0x44709a920fccf795fbc57baa433cc3dd53c44dbe" },
  { name: "Inspect: INSP Token (b457)", value: 34.30, address: "0x186ef81fd8e77eec8bffc3039e7ec41d5fc0b457" },
  { name: "WDIStandardToken (af2b)", value: 31.03, address: "0xee2b9b7e168b5b2d40c507b891c7cfb13a6aaf2b" },
  { name: "Ember Sword: EMBE...db4e", value: 27.14, address: "0x35f3bad2fcc8053869086885f7898a3d4309db4e" },
  { name: "Resistance (4f79)", value: 24.42, address: "0x0f95f29163f67f14531d2bf4e827611f52004f79" },
  { name: "Dyad (d4ab)", value: 19.13, address: "0xfd03723a9a3abe0562451496a9a394d2c4bad4ab" },
  { name: "Aavegotchi: GHST ...1550", value: 8.09, address: "0x3f382dbd960e3a9bbceae22651e88158d2791550" },
  { name: "Kerosene: KEROSEN...5394", value: 5.26, address: "0xf3768d6e78e65fc64b8f12ffc824452130bd5394" },
  { name: "Exchange Token: E...475a", value: -1.10, address: "0x7997349fa5a0a79085778242dbe1fb9d8f5c475a" },
  { name: "Loom Network: LOO...f75d", value: -2.00, address: "0x42476f744292107e34519f9c357927074ea3f75d" },
  { name: "Contract (4f8e)", value: -9.40, address: "0x6b2e5e59d214de99bc7bc8040ec5573479984f8e" }
].sort((a, b) => b.value - a.value);  // Sort in descending order

        const transactionsData = [
  { name: "Resistance (4f79)", value: 5666, address: "0x0f95f29163f67f14531d2bf4e827611f52004f79" },
  { name: "Strawberry (80ca)", value: 4186, address: "0xcb76314c2540199f4b844d4ebbc7998c604880ca" },
  { name: "PowerPool.Finance...dca1", value: 2164, address: "0x38e4adb44ef08f22f5b5b76a8f0c2d0dcbe7dca1" },
  { name: "Inspect: INSP Token (b457)", value: 1938, address: "0x186ef81fd8e77eec8bffc3039e7ec41d5fc0b457" },
  { name: "Kerosene: KEROSEN...5394", value: 1744, address: "0xf3768d6e78e65fc64b8f12ffc824452130bd5394" },
  { name: "Asterixlabs: ASTX...ff39", value: 1640, address: "0x0000000000ca73a6df4c58b84c5b4b847fe8ff39" },
  { name: "KABOSU (26cb)", value: 1548, address: "0xceb67a66c2c8a90980da3a50a3f96c07525a26cb" },
  { name: "Dyad (d4ab)", value: 1254, address: "0xfd03723a9a3abe0562451496a9a394d2c4bad4ab" },
  { name: "CryptoKitties: Core (266d)", value: 962, address: "0x06012c8cf97bead5deae237070f9587f8e7a266d" },
  { name: "WDIStandardToken (af2b)", value: 836, address: "0xee2b9b7e168b5b2d40c507b891c7cfb13a6aaf2b" },
  { name: "ChefToken (b12f)", value: 781, address: "0x60407266586e204792b69b024558aa18228ab12f" },
  { name: "Loom Network: LOO...f75d", value: 594, address: "0x42476f744292107e34519f9c357927074ea3f75d" },
  { name: "Contract (4f8e)", value: 558, address: "0x6b2e5e59d214de99bc7bc8040ec5573479984f8e" },
  { name: "Conan: CONAN Token (23a7)", value: 490, address: "0x85d19fb57ca7da715695fcf347ca2169144523a7" },
  { name: "pepe in a memes w...2c21", value: 488, address: "0x382ea807a61a418479318efd96f1efbc5c1f2c21" }
].sort((a, b) => b.value - a.value);  // Sort in descending order

        function createChart(svgId, data, valuePrefix = "", isGrowthChart = true) {
            const svg = document.getElementById(svgId);
            const width = 760;
            const height = 600;
            const margin = { top: 20, right: 30, bottom: 40, left: 200 };
            const chartWidth = width - margin.left - margin.right;
            const chartHeight = height - margin.top - margin.bottom;

            const maxValue = Math.max(...data.map(d => Math.abs(d.value)));
            const yScale = (i) => margin.top + (i * (chartHeight / data.length));
            const xScale = (val) => (Math.abs(val) / maxValue) * chartWidth;

            const zeroX = isGrowthChart ? margin.left + chartWidth / 2 : margin.left;

            data.forEach((d, i) => {
                const barGroup = document.createElementNS("http://www.w3.org/2000/svg", "g");
                
                const barLink = document.createElementNS("http://www.w3.org/2000/svg", "a");
                barLink.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", `https://etherscan.io/token/${d.address}`);
                barLink.setAttribute("target", "_blank");

                const bar = document.createElementNS("http://www.w3.org/2000/svg", "rect");
                const barWidth = xScale(d.value);
                bar.setAttribute("x", isGrowthChart ? (d.value >= 0 ? zeroX : zeroX - barWidth) : zeroX);
                bar.setAttribute("y", yScale(i));
                bar.setAttribute("width", barWidth);
                bar.setAttribute("height", chartHeight / data.length - 5);
                bar.setAttribute("class", `bar ${d.value >= 0 ? 'positive' : 'negative'}`);
                barLink.appendChild(bar);
                barGroup.appendChild(barLink);

                const label = document.createElementNS("http://www.w3.org/2000/svg", "text");
                label.setAttribute("x", margin.left - 5);
                label.setAttribute("y", yScale(i) + (chartHeight / data.length / 2));
                label.setAttribute("text-anchor", "end");
                label.setAttribute("alignment-baseline", "middle");
                label.setAttribute("class", "bar-label");
                label.textContent = d.name;
                barGroup.appendChild(label);

                const chartIcon = document.createElementNS("http://www.w3.org/2000/svg", "text");
                chartIcon.setAttribute("x", margin.left - 10);
                chartIcon.setAttribute("y", yScale(i) + (chartHeight / data.length / 2));
                chartIcon.setAttribute("text-anchor", "middle");
                chartIcon.setAttribute("alignment-baseline", "middle");
                chartIcon.setAttribute("class", "chart-icon");
                chartIcon.textContent = "ðŸ“Š";
                chartIcon.style.cursor = "pointer";
                chartIcon.addEventListener("click", () => {
                    window.open(`https://dexscreener.com/ethereum/${d.address}`, "_blank");
                });
                barGroup.appendChild(chartIcon);

                const value = document.createElementNS("http://www.w3.org/2000/svg", "text");
                const valueText = valuePrefix + d.value.toLocaleString();
                const valueX = isGrowthChart 
                    ? (d.value >= 0 ? zeroX + 5 : zeroX - 5)
                    : zeroX + 5;
                value.setAttribute("x", valueX);
                value.setAttribute("y", yScale(i) + (chartHeight / data.length / 2));
                value.setAttribute("text-anchor", isGrowthChart && d.value < 0 ? "end" : "start");
                value.setAttribute("alignment-baseline", "middle");
                value.setAttribute("class", "value-label");
                value.textContent = valueText;
                barGroup.appendChild(value);

                svg.appendChild(barGroup);
            });

            if (isGrowthChart) {
                // Zero line for growth chart
                const zeroLine = document.createElementNS("http://www.w3.org/2000/svg", "line");
                zeroLine.setAttribute("x1", zeroX);
                zeroLine.setAttribute("y1", margin.top);
                zeroLine.setAttribute("x2", zeroX);
                zeroLine.setAttribute("y2", height - margin.bottom);
                zeroLine.setAttribute("stroke", "black");
                zeroLine.setAttribute("stroke-dasharray", "4");
                svg.appendChild(zeroLine);
            }

            // X-axis
            const xAxis = document.createElementNS("http://www.w3.org/2000/svg", "line");
            xAxis.setAttribute("x1", margin.left);
            xAxis.setAttribute("y1", height - margin.bottom);
            xAxis.setAttribute("x2", width - margin.right);
            xAxis.setAttribute("y2", height - margin.bottom);
            xAxis.setAttribute("stroke", "black");
            svg.appendChild(xAxis);

            // Y-axis
            const yAxis = document.createElementNS("http://www.w3.org/2000/svg", "line");
            yAxis.setAttribute("x1", margin.left);
            yAxis.setAttribute("y1", margin.top);
            yAxis.setAttribute("x2", margin.left);
            yAxis.setAttribute("y2", height - margin.bottom);
            yAxis.setAttribute("stroke", "black");
            svg.appendChild(yAxis);
        }

        createChart("growthChart", growthData, "+", true);
        createChart("transactionsChart", transactionsData, "", false);
    </script>
</body>
</html>
